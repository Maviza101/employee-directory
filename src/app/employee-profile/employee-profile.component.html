<app-nav-bar></app-nav-bar>
<app-page-title title="Employee profile"></app-page-title>
<div *ngIf="!employee" class="alert alert-warning">
  <h3>We do not know that employee.</h3>
</div>

<div *ngIf="employee" class="employee-profile-container">
  <div class="panel panel-default">
    <div class="panel-heading">
      <div class="profile-header-container">
        <div class="employee-pic-container">
          <img [src]="'/assets/photos/' + employee.picture" class="employee-image">
        </div>
        <div class="employee-bio-container">
          <h2 class="fullName">{{employee.firstName}} {{employee.lastName}}</h2>
          <h3 class="job-title">{{employee.title}}</h3>
          <h3 class="work-city">{{employee.city}}</h3>
        </div>
      </div>
    </div>
    <div class="panel-body profile-body-container">
      <table class="table table-hover">
        <tr *ngIf="employee.managerId">
          <td class="col-md-3">Manager</td>
          <td class="col-md-9">
            <button
              class="btn btn-primary"
              (click)="goTo('employees/' + employee.managerId)"
            >
              {{employee.managerName}}
            </button>
          </td>
        </tr>
        <tr *ngIf="employee.reports">
          <td class="col-md-3">Direct Reports</td>
          <td class="col-md-9">
            <button
              class="btn btn-primary"
              (click)="goTo('employees/' + employee.id + '/reports')"
            >
              {{employee.reports}}
            </button>
          </td>
        </tr>
        <tr *ngIf="employee.officePhone">
          <td class="col-md-3">Call Office</td>
          <td class="col-md-9">
            <a href="tel:{{employee.officePhone}}">{{employee.officePhone}}</a>
          </td>
        </tr>
        <tr *ngIf="employee.cellPhone">
          <td class="col-md-3">Call Cell</td>
          <td class="col-md-9">
            <a href="tel:{{employee.cellPhone}}">{{employee.cellPhone}}</a>
          </td>
        </tr>
        <!-- Disabled for now because of this warning from the browser console: 'WARNING: sanitizing unsafe URL value sms:+31 000 000 004 (see http://g.co/ng/security#xss)' -->
        <!-- <tr *ngIf="employee.cellPhone">
          <td class="col-md-3">SMS</td>
          <td class="col-md-9">
            <a href="sms:{{employee.cellPhone}}">{{employee.cellPhone}}</a>
          </td>
        </tr> -->
        <tr *ngIf="employee.email">
          <td class="col-md-3">Email address</td>
          <td class="col-md-9">
            <a href="mailto:{{employee.email}}">{{employee.email}}</a>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>